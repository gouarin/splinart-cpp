name: "CI"

on:
  workflow_dispatch:
  pull_request:
    paths-ignore:
      - "doc/**"

jobs:
    tests:
        runs-on: ${{ matrix.os }}
        strategy:
          fail-fast: false
          matrix:
            os:
              - ubuntu-22.04
              - macos-12
        steps:
            - uses: actions/checkout@v3

            - uses: prefix-dev/setup-pixi@v0.4.1
              with:
                pixi-version: v0.9.1
                cache: true

            - run: pixi run test

